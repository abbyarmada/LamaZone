= form_for [@book, @rating] do |f|
  - if @rating.errors.any?
    #error_explanation
      %h2
        = pluralize(@rating.errors.count, "error") 
        prohibited this rating from being saved:
      %ul
        - @rating.errors.full_messages.each do |message|
          %li= message
  .field
    = f.label :book_id, "\"#{@book.title}\" by #{Author.find(@book.author_id).firstname} #{Author.find(@book.author_id).lastname}"
    %br/
    = f.number_field :book_id, readonly: true, hidden: true, value: @book.id
  .field
    = f.label :rate
    %br/
    = f.number_field :rate, in: 1..10, value: 10
  .field
    = f.label :review
    %br/
    = f.text_area :review
  .actions
    = f.submit
  